<script>
  const diaryData = {
    hotangje: [
      'https://i.ibb.co/p6JRgvq9/Ot-ISp-I1-QB55-1.jpg',
      'https://i.ibb.co/fz5B8SD6/Ot-ISp-I1-QB5-2.jpg'
    ],
    daybefore: [
      'https://i.ibb.co/qM7vxMB1/r-Ann5-ZYh-Qz.jpg'
    ],
    dayof: [
      'https://i.ibb.co/rGk2Yw1k/ma-Zf7-Z2-Jn-E.jpg'
    ]
  };

  let clickCount = 0;
  let clickTimer = null;

  function showDiary(type) {
    const viewer = document.getElementById('diaryViewer');
    const container = document.getElementById('diaryImages');
    container.innerHTML = ''; // 기존 이미지 제거
    viewer.classList.remove('hidden');

    diaryData[type].forEach((url, index) => {
      const img = document.createElement('img');
      img.src = url;
      img.className = 'w-full object-cover';

      // 첫 번째 이미지에만 클릭 이벤트 추가
      if (type === 'hotangje' && index === 0) {
        img.addEventListener('click', () => {
          clickCount++;

          clearTimeout(clickTimer); // 이전 타이머 제거

          clickTimer = setTimeout(() => {
            if (clickCount === 2) {
              window.location.href = "https://www.youtube.com/watch?v=JsCNPYnnAV0";
            } else if (clickCount === 3) {
              window.location.href = "https://www.youtube.com/watch?v=IPjA12cSb3U";
            }
            clickCount = 0;
          }, 500); // 0.5초 내 클릭 수 판단
        });
      }

      container.appendChild(img);
    });
  }

  function closeViewer() {
    document.getElementById('diaryViewer').classList.add('hidden');
    clickCount = 0;
    clearTimeout(clickTimer);
  }
</script>
